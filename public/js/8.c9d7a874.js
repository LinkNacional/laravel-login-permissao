(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{3764:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("TableUsers",{attrs:{title:"Usuarios"}})},s=[],o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"show",rawName:"v-show",value:!this.isLoaded,expression:"!this.isLoaded"}],staticClass:"q-pa-md"},[t("q-table",{attrs:{dense:e.$q.screen.lt.sm,title:this.title,data:e.data,columns:e.columns,"row-key":"id",pagination:e.pagination,"rows-per-page-options":e.rows_per_page_options},on:{"update:pagination":function(a){e.pagination=a}},scopedSlots:e._u([{key:"top-right",fn:function(){return[t("q-input",{attrs:{borderless:"",dense:"",debounce:"600",to:{path:"/users/search?text_search="+e.filter},placeholder:"Busca"},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(a){e.filter=a},expression:"filter"}})]},proxy:!0},{key:"header",fn:function(a){return[t("q-tr",{attrs:{props:a}},e._l(a.cols,(function(n){return t("q-th",{directives:[{name:"show",rawName:"v-show",value:""!=n.label,expression:"col.label != ''"}],key:n.name,attrs:{props:a}},[e._v("\n          "+e._s(n.label)+"\n        ")])})),1)]}},{key:"body",fn:function(a){return[t("q-tr",{staticStyle:{cursor:"pointer"},attrs:{props:a},on:{click:function(e){a.expand=!a.expand}}},e._l(a.cols,(function(n){return t("q-td",{directives:[{name:"show",rawName:"v-show",value:"0"!=n.name.substring(1,0),expression:"col.name.substring(1,0) != '0'"}],key:n.name,attrs:{props:a}},["Status"==n.name?t("i",{staticClass:"fas fa-circle",staticStyle:{"margin-left":"10%"},style:{color:1==n.value?"green":"gray"}}):"Permissões"==n.name?t("q-btn",{staticStyle:{"margin-left":"5%"},attrs:{to:{path:"/users/permission/"+a.key},size:"sm",color:"accent",round:"",dense:""}},[t("i",{staticClass:"fas fa-pen"})]):t("span",[e._v(e._s(n.value))])],1)})),1),e._l(a.cols,(function(n){return t("q-tr",{directives:[{name:"show",rawName:"v-show",value:a.expand,expression:"props.expand"}],key:n.name,attrs:{props:a}},[t("q-td",{directives:[{name:"show",rawName:"v-show",value:""==n.label&&""!=n.field,expression:"col.label == '' && col.field != ''"}],staticClass:"bg-grey-2",attrs:{colspan:"100%"}},[t("div",{staticClass:"text-left"},[e._v("\n            "+e._s(n.field)+": "+e._s(n.value)+"\n          ")])])],1)})),t("q-td",{directives:[{name:"show",rawName:"v-show",value:a.expand,expression:"props.expand"}],staticClass:"bg-grey-2",attrs:{colspan:"100%"}},[t("div",{staticClass:"text-left"},[t("q-btn",{staticClass:"full-width",attrs:{"text-color":"black",color:"standard",to:{path:"/users/edit/"+a.key},label:"Editar usuário"}})],1)])]}},{key:"bottom",fn:function(){return[t("div",{staticClass:" row items-center justify-end"},[t("div",{staticClass:"q-table__separator col"}),t("div",{staticClass:"q-table__control"},[t("span",{staticClass:"q-table__bottom-item"},[e._v("paginas:")]),t("q-select",{attrs:{dense:"",options:e.rows_per_page_options},model:{value:e.rowsPerPage,callback:function(a){e.rowsPerPage=a},expression:"rowsPerPage"}})],1),t("div",{staticClass:"q-table__control"},[t("span",{staticClass:"q-table__bottom-item"},[e._v("1-7 de 21")]),t("q-btn",{attrs:{flat:"",color:"primary",disable:1==e.pagination.page?"disable":"enable",icon:"first_page"},on:{click:function(a){return e.firstPage()}}}),t("q-btn",{attrs:{flat:"",disable:1==e.pagination.page?"disable":"enable",color:"primary",icon:"chevron_left"},on:{click:function(a){return e.previousPage()}}}),t("q-btn",{attrs:{flat:"",disable:e.pagination.page==e.pagination.rowsNumber/e.pagination.rowsPerPage?"disable":"enable",color:"primary",icon:"chevron_right"},on:{click:function(a){return e.nextPage()}}}),t("q-btn",{attrs:{flat:"",disable:e.pagination.page==e.pagination.rowsNumber/e.pagination.rowsPerPage?"disable":"enable",color:"primary",icon:"last_page"},on:{click:function(a){return e.lastPage()}}})],1)])]},proxy:!0}])})],1)},i=[],r=(t("e6cf"),t("758b")),l={name:"tablelist",props:["title"],data(){return{filter:"",total_num_rows:0,isLoaded:!0,rowsPerPage:7,rows_per_page_options:[5,7,10,20,50,"Todos"],pagination:{page:1,rowsPerPage:7,rowsNumber:0},columns:[{name:"0id",align:"left",label:"",field:""},{name:"Permissões",align:"left",label:"Permissões",field:"Permissões"},{name:"Status",align:"left",label:"status",field:"status",sortable:!0,required:!0},{name:"name",required:!0,label:"Nome",align:"center",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"E-mail",align:"center",label:"E-mail",field:"email",sortable:!0},{name:"Departamento",align:"left",label:"Departamento",field:"departamento",sortable:!0,required:!0},{name:"0Administrador",align:"center",label:"",field:"Gerente",sortable:!0,required:!0},{name:"0Unidade",align:"center",label:"",field:"Unidade",sortable:!0,required:!0},{name:"0Sobrenome",align:"center",label:"",field:"Sobrenome",sortable:!0,required:!0},{name:"0Fone",align:"center",label:"",field:"Telefone",sortable:!0,required:!0},{name:"0Cargo",align:"center",label:"",field:"Cargo",sortable:!0,required:!0},{name:"0Ramal",align:"center",label:"",field:"Ramal",sortable:!0,required:!0},{name:"0Hora_Técnica",align:"center",label:"",field:"Hora Técnica",sortable:!0,required:!0}],data:[]}},watch:{filter:function(){r["a"].post("/users/search?search_text="+this.filter+"&num_rows="+this.pagination.rowsPerPage).then((e=>{console.log("response",e),this.data=[],e.data.forEach((e=>{this.data.push({id:e.id,name:e.name,email:e.email,departamento:null==e.departament?"":e.departament.name,administrador:"admin user",Unidade:"unidade ",Sobrenome:"sobrenome",Telefone:"88988229962",Cargo:"dev",Ramal:"12","Hora Técnica":"10"})})),console.log("this.data",this.data)}))}},methods:{nextPage(){console.log("nextPage"),this.pagination++,console.log("nextPage",this.pagination)},previousPage(){console.log("previousPage"),this.pagination--,console.log("previousPage",this.pagination)},firstPage(){console.log("firstPage"),this.pagination=1,console.log("firstPage",this.pagination)},lastPage(){console.log("lastPage"),this.pagination=this.pagination.rowsNumber/this.pagination.rowsPerPage,console.log("this.pagination",this.pagination),console.log("this.pagination.rowsNumber",this.pagination.rowsNumber),console.log("this.pagination.rowsPerPage",this.pagination.rowsPerPage)},formatTable(e){e.forEach((e=>{this.data.push({id:e.id,name:e.name,email:e.email,departamento:null==e.departament?"":e.departament.name,administrador:"admin user",Unidade:"unidade ",Sobrenome:"sobrenome",Telefone:"88988229962",Cargo:"dev",Ramal:"12","Hora Técnica":"10"})})),this.loadStop()},async getUsers(){this.$q.loading.show(),r["a"].post("/users").then((e=>{this.formatTable(e.data.users),this.pagination.rowsNumber=e.data.total_num_rows})).catch((e=>{console.log(e),this.loadStop()}))},loadStop(){this.$q.loading.hide(),this.isLoaded=!1}},beforeMount(){this.getUsers()}},c=l,d=t("2877"),p=t("eaac"),u=t("27f9"),m=t("0016"),g=t("bd08"),b=t("357e"),f=t("db86"),h=t("9c40"),w=t("ddd8"),_=t("eebe"),v=t.n(_),P=Object(d["a"])(c,o,i,!1,null,"4d93701d",null),q=P.exports;v()(P,"components",{QTable:p["a"],QInput:u["a"],QIcon:m["a"],QTr:g["a"],QTh:b["a"],QTd:f["a"],QBtn:h["a"],QSelect:w["a"]});var y={name:"tableuser",data(){return{return:{}}},components:{TableUsers:q}},x=y,k=Object(d["a"])(x,n,s,!1,null,null,null);a["default"]=k.exports},"758b":function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t("bc3a"),s=t.n(n),o=window.location.href,i=o.split("/"),r=i[0]+"//"+i[2];const l=s.a.create({baseURL:r,timeout:9e4,withCredentials:!0,headers:{"Content-Type":"application/json"}})}}]);